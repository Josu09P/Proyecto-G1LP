<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

    <head>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>GoyuSelva-Crear-Producto</title>


        <!-- Bootstrap core CSS -->
        <link th:href="@{/vendor/bootstrap/css/bootstrap.min.css}"
              rel="stylesheet">

        <!-- Custom styles for this template -->
        <link th:href="@{/css/heroic-features.css}" rel="stylesheet">


    </head>

    <body>

        <!-- Navigation -->
        <div th:include="administrador/template_admin.html::header"></div>

        <!-- Page Content -->
        <br><!-- comment -->
        <br>

        <div class="contenedor">


            <!-- Page Heading/Breadcrumbs -->
            <h1 class="mt-4 mb-3">
                Spring eCommerce <small>Productos</small>
            </h1>

            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a th:href="@{/administrador}">Inicio</a></li>
                <li class="breadcrumb-item active">Crear Productos</li>
            </ol>

            <h2>Crear Producto</h2>
            <form class="form-horizontal" th:action="@{/productos/save}" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label class="control-label col-sm-2" for="name">Nombre:</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="name" name="name"
                               placeholder="Ingrese el nombre del producto" autocomplete="off" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2" for="description">Descripción:</label>
                    <div class="col-sm-10">
                        <textarea class="form-control" id="description" name="description"
                                  placeholder="Ingrese la descripcion del producto" required
                                  autocomplete="off"> </textarea>
                    </div>
                </div>


                <div class="form-group">
                    <label class="control-label col-sm-2" for="price">Precio:</label>
                    <div class="col-sm-10">
                        <input type="number" class="form-control" step="any" id="price" name="price"
                               placeholder="Ingrese el precio del producto" autocomplete="off" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="img" style="font-weight: bold;">Imagen del Producto:</label>
                    <label for="img" class="custom-file-upload">Seleccionar Imagen</label>
                    <input type="file" id="img" name="img" onchange="mostrarVistaPrevia()" style="display: none;">
                </div>

                <div class="form-group">
                    <img id="vistaPrevia" style="max-width: 100%;" />
                </div>



                <div class="form-group" style="margin-bottom: 20px; margin-top: 20px;">
                    <button type="submit" class="btn btn-dark" onclick="showSuccessAlert()">
                        <span class="glyphicon glyphicon-saved"></span> Guardar
                    </button>
                </div>

            </form>

        </div>
        <!-- /.container -->
        <div th:include="administrador/template_admin.html::footer"></div>

        <!-- Bootstrap core JavaScript -->
        <script th:src="@{/vendor/jquery/jquery.min.js}"></script>
        <script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script th:inline="javascript">
                        function showSuccessAlert() {
                            Swal.fire({
                                icon: 'success',
                                title: '¡Producto creado con éxito!',
                                showConfirmButton: false,
                                timer: 7000, // Mostrar la alerta durante 3 segundos
                            });
                        }
        </script>

    </body>

    <script>
        function mostrarVistaPrevia() {
            var input = document.getElementById('img');

            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    document.getElementById('vistaPrevia').src = e.target.result;
                };

                reader.readAsDataURL(input.files[0]);
            }
        }


    </script> 

    <style>
        .body{
            position: relative;
        }
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
        }
        .contenedor{
            width: 50%; /* Ajusta el ancho según tus necesidades */
            margin: 0 auto; /* Esto centrará tu contenedor */


        }
    </style>


</html>
